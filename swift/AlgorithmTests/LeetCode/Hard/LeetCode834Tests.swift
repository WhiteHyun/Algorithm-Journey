//
//  LeetCode834Tests.swift
//  AlgorithmTests
//
//  Created by 홍승현 on 2024/04/28.
//

import XCTest

final class LeetCode834Tests: XCTestCase {
  private let problem = LeetCode834()

  func testExample1() {
    let result = problem.sumOfDistancesInTree(6, [[0, 1], [0, 2], [2, 3], [2, 4], [2, 5]])
    XCTAssertTrue(result == [8, 12, 6, 10, 10, 10])
  }

  func testExample2() {
    let result = problem.sumOfDistancesInTree(1, [])
    XCTAssertTrue(result == [0])
  }

  func testExample3() {
    let result = problem.sumOfDistancesInTree(2, [[1, 0]])
    XCTAssertTrue(result == [1, 1])
  }

  func testExample4() {
    let expectation = XCTestExpectation(description: "Timeout expectation")

    DispatchQueue.global().async {
      let result = self.problem.sumOfDistancesInTree(100, [[45, 75], [3, 69], [83, 97], [34, 77], [31, 92], [81, 99], [16, 66], [58, 99], [40, 48], [80, 97], [87, 21], [86, 61], [98, 17], [9, 40], [90, 71], [14, 18], [51, 14], [1, 30], [69, 89], [74, 99], [12, 8], [7, 86], [70, 76], [42, 24], [37, 4], [9, 21], [67, 22], [26, 35], [22, 10], [72, 91], [77, 49], [42, 38], [7, 36], [98, 54], [63, 19], [4, 96], [70, 5], [42, 86], [13, 81], [96, 45], [11, 3], [82, 33], [33, 27], [54, 81], [81, 33], [50, 44], [63, 13], [91, 64], [81, 6], [30, 64], [9, 33], [29, 59], [88, 33], [66, 51], [20, 76], [12, 76], [14, 50], [67, 7], [99, 64], [54, 12], [18, 46], [78, 22], [59, 34], [93, 56], [39, 24], [94, 67], [56, 13], [60, 52], [34, 99], [62, 42], [7, 60], [12, 57], [23, 51], [63, 85], [27, 35], [43, 94], [32, 8], [41, 1], [86, 25], [16, 75], [86, 69], [31, 84], [3, 2], [42, 53], [71, 58], [28, 51], [5, 0], [55, 97], [79, 14], [95, 50], [74, 69], [73, 79], [25, 15], [55, 14], [92, 14], [65, 31], [47, 99], [12, 68], [12, 14]])
      XCTAssertTrue(result == [859, 725, 737, 639, 1155, 761, 529, 685, 577, 599, 965, 737, 481, 519, 529, 799, 783, 647, 625, 711, 669, 695, 867, 707, 789, 701, 797, 603, 707, 731, 629, 715, 675, 509, 537, 699, 783, 1253, 791, 887, 695, 823, 693, 967, 721, 965, 723, 545, 793, 731, 623, 609, 879, 791, 453, 621, 615, 579, 541, 633, 781, 703, 791, 613, 535, 813, 695, 773, 579, 545, 665, 637, 729, 723, 495, 873, 571, 633, 965, 625, 813, 431, 607, 813, 813, 711, 605, 793, 607, 643, 735, 631, 621, 713, 869, 721, 1059, 715, 549, 447])
      expectation.fulfill()
    }

    // 3초 동안 대기하고, 시간 초과되면 테스트 실패
    wait(for: [expectation], timeout: 3.0)
  }

  func testExample5() {
    let result = problem.sumOfDistancesInTree(7, [[0, 1], [0, 2], [2, 3], [2, 4], [2, 5], [3, 6]])
    XCTAssertTrue(result == [11, 16, 8, 11, 13, 13, 16])
  }
}
